<workflow>

	<rule match="$..units[?(@.state.hostname is None)]">
		<set path="state.hostname"><generate-hostname/></set>
	</rule>

</workflow>